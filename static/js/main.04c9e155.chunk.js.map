{"version":3,"sources":["common/AppBar.js","profile/ProfileAPI.js","common/Footer.js","common/Welcome.js","common/PasswordInput.js","common/TextInput.js","authentication/login/LoginForm.js","authentication/login/Login.js","authentication/login/LoginAPI.js","common/PrivateRoute.js","common/error-404-monochrome.svg","common/NotFound.js","authentication/register/RegisterForm.js","authentication/register/Register.js","authentication/reset/ResetPasswordForm.js","authentication/reset/ResetPassword.js","common/AuthRoute.js","service/store/StoresAPI.js","service/GridCell.js","profile/Profile.js","common/Template.js","service/catalog/Catalogs.js","service/ProductCell.js","service/product/Products.js","notification/Notification.js","notification/NotificationAPI.js","history/HistoryAPI.js","common/Loading.js","common/ErrorMessage.js","common/DataFetchHook.js","history/VPTransferHistory.js","history/VPBalanceHistory.js","history/PurchaseCell.js","history/PurchaseEPinHistory.js","history/PurchaseTopupHistory.js","purchase/LabelGroup.js","purchase/PurchaseHeader.js","purchase/PurchaseStatus.js","history/detail/PurchaseEPinDetail.js","history/detail/PurchaseTopupDetail.js","profile/UserProfile.js","service/ProductAPI.js","common/TextArea.js","service/ProductDetailHeader.js","service/EPinDetail.js","service/TopupDetail.js","service/Product.js","App.js","index.js"],"names":["NavNotification","useState","unread","setUnread","useEffect","isCancel","_unread","window","sessionStorage","getItem","appConfig","KEY_NOTIFICATION","isNaN","parseInt","url","config","ROOT_PATH","axios","get","getUnreadCount","then","resp","setItem","data","count","catch","error","console","log","response","className","AppBar","props","history","useHistory","colorClass","to","type","data-toggle","data-target","aria-controls","aria-expanded","aria-label","id","localStorage","KEY_TOKEN","active","icon","size","href","role","aria-labelledby","onClick","event","preventDefault","clear","push","IconLink","Footer","Welcome","PasswordInput","mode","setMode","wrapperClass","length","label","placeholder","value","onChange","name","current","style","width","TextInput","LoginForm","onSubmit","mobile","errors","password","disabled","loading","aria-hidden","reducer","state","action","Login","token","setData","setErrors","useReducer","dispatch","document","title","target","_errors","Object","keys","isFormValid","uuidv4","KEY_DEVICE_ID","body","post","login","result","KEY_USER_ID","customerId","PrivateRoute","Component","component","rest","render","NotFound","src","NotFoundLogo","alt","RegisterForm","Register","ResetPasswordForm","ResetPassword","AuthRoute","getStores","KEY_CACHE_EXPIRY","expiryDate","stores","catalogs","products","a","store","s","b","storeId","listingGroups","catalog","c","listingGroupId","listings","product","p","listingId","KEY_CACHE_STORES","JSON","stringify","KEY_CACHE_CATALOGS","KEY_CACHE_PRODUCTS","saveCache","GridCell","index","logo","height","maxWidth","wordWrap","UserDetail","profile","setProfile","_profile","KEY_PROFILE","_data","parsed","parse","getProfile","MainBalance","balance","setBalance","_balance","KEY_BALANCE","parseFloat","getBalance","toLocaleString","minimumFractionDigits","Profile","getWalletComponent","top","zIndex","aria-selected","transform","Template","children","Catalogs","items","parseData","ary","_stores","find","_items","sort","orderIndex","filter","d","parentId","match","params","_expiry","_ary","Number","Date","getTime","_","map","photoUrl","slug","ProductCell","price","Products","catalogId","_catalogs","message","sellingPrice","Notification","formatDate","millis","date","Intl","DateTimeFormat","dateStyle","timeStyle","format","getNotifications","msg","errorCode","data-dismiss","n","read","status","notificationDate","notificationId","getDateRange","dateStr","moment","isValid","from","year","month","Loading","show","ErrorMessage","useArrayFetch","dataSource","setLoading","setError","useDataFetch","VPTransferHistory","setDate","dateString","startDate","endDate","pageSize","offset","getTransferHistory","handleChange","datePicker","$","datepicker","uiLibrary","maxDate","change","destroy","defaultValue","readOnly","h","notes","dir","color","direction","amount","txnDate","partnerMobile","VPBalanceHistory","getBalanceHistory","entryType","statusColor","description","balanceBefore","balanceAfter","PurchaseCell","purchaseStatus","productPhotoUrl","productTitle","paidAmount","purchaseId","replace","remark","detailRoute","PurchaseEPinHistory","qDate","getEpinHistory","PurchaseTopupHistory","getTopupHistory","LabelGroup","marginBottom","PurchaseHeader","PurchaseStatus","PurchaseEPinDetail","getEpinPurchase","URLSearchParams","useLocation","search","serialKey","PurchaseTopupDetail","getTopupPurchase","recipientMobile","UserProfile","syncData","cancelToken","TextArea","rows","ProductDetailHeader","EPinDetail","TopupDetail","Product","setItems","setHistory","details","getKey","key","updateListing","rawJson","item","navigate","evt","_history","step","jumpTo","slice","source","CancelToken","expiry","includes","cancel","last","getBreadcurmb","productType","getBody","library","add","fab","fas","far","JSONbig","require","storeAsString","defaults","transformResponse","interceptors","request","use","headers","userId","Promise","reject","App","autoClose","hideProgressBar","path","exact","jQuery","ReactDOM","StrictMode","basename","process","getElementById"],"mappings":"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","file":"static/js/main.04c9e155.chunk.js","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport appConfig from \"./config.json\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { getUnreadCount } from \"../profile/ProfileAPI\";\n\nfunction NavNotification() {\n  const [unread, setUnread] = useState(0);\n\n  useEffect(() => {\n    let isCancel = false;\n    const _unread = window.sessionStorage.getItem(appConfig.KEY_NOTIFICATION);\n    if (!_unread) {\n      getUnreadCount()\n        .then((resp) => {\n          sessionStorage.setItem(appConfig.KEY_NOTIFICATION, resp.data.count);\n          !isCancel && setUnread(resp.data.count);\n        })\n        .catch((error) => {\n          console.log(error.response.data);\n        });\n    } else if (!isNaN(parseInt(_unread))) {\n      !isCancel && setUnread(parseInt(_unread));\n    }\n\n    return () => {\n      isCancel = true;\n    };\n  }, []);\n\n  return (\n    <span className=\"notification-badge badge badge-danger\">\n      {unread ? unread : \"\"}\n    </span>\n  );\n}\n\nfunction AppBar(props) {\n  const history = useHistory();\n\n  function logout(event) {\n    event.preventDefault();\n    localStorage.clear();\n    sessionStorage.clear();\n    history.push(\"/login\");\n  }\n\n  return (\n    <nav\n      className={\n        \"navbar sticky-top navbar-expand navbar-dark shadow-sm px-0 \" +\n        (props.colorClass ? props.colorClass : \"bg-primary\")\n      }\n    >\n      <div className=\"container\">\n        <div className=\"container d-flex justify-content-between\">\n          <Link className=\"navbar-brand\" to=\"/app\">\n            <span className=\"h4 logo-text\">VStore</span>\n          </Link>\n\n          <button\n            className=\"navbar-toggler\"\n            type=\"button\"\n            data-toggle=\"collapse\"\n            data-target=\"#navbarNav\"\n            aria-controls=\"navbarNav\"\n            aria-expanded=\"false\"\n            aria-label=\"Toggle navigation\"\n          >\n            <span className=\"navbar-toggler-icon\"></span>\n          </button>\n\n          <div className=\"collapse navbar-collapse\" id=\"navbarNav\">\n            {localStorage.getItem(appConfig.KEY_TOKEN) && (\n              <>\n                <ul className=\"navbar-nav font-weight-bold\">\n                  <li\n                    className={\"nav-item\" + (props.active === \"home\" ? \"\" : \"\")}\n                  >\n                    <Link className=\"nav-link\" to=\"/\">\n                      Home\n                    </Link>\n                  </li>\n                  <li className=\"nav-item d-none d-lg-block\">\n                    <Link className=\"nav-link\" to=\"/epin-history\">\n                      E-Pin History\n                    </Link>\n                  </li>\n                  <li className=\"nav-item d-none d-lg-block\">\n                    <Link className=\"nav-link\" to=\"/topup-history\">\n                      Topup History\n                    </Link>\n                  </li>\n                </ul>\n                <ul className=\"navbar-nav ml-auto\">\n                  <li className=\"nav-item\">\n                    <Link to=\"/notifications\" className=\"nav-link\">\n                      <FontAwesomeIcon icon={[\"fas\", \"bell\"]} size=\"lg\" />\n                      <NavNotification />\n                    </Link>\n                  </li>\n                  <li className=\"nav-item dropdown\">\n                    <Link to=\"/profile\" className=\"nav-link d-block d-lg-none\">\n                      <FontAwesomeIcon\n                        icon={[\"fas\", \"user-circle\"]}\n                        size=\"lg\"\n                      />\n                    </Link>\n                    <a\n                      href=\"!#\"\n                      className=\"nav-link dropdown-toggle d-none d-lg-block\"\n                      id=\"navbarDropdown\"\n                      role=\"button\"\n                      data-toggle=\"dropdown\"\n                    >\n                      <FontAwesomeIcon\n                        icon={[\"fas\", \"user-circle\"]}\n                        size=\"lg\"\n                      />\n                    </a>\n                    <div\n                      className=\"dropdown-menu dropdown-menu-right\"\n                      aria-labelledby=\"navbarDropdown\"\n                    >\n                      <Link className=\"dropdown-item\" to=\"/\">\n                        Change Name\n                      </Link>\n                      <Link className=\"dropdown-item\" to=\"/\">\n                        Change Password\n                      </Link>\n                      <div className=\"dropdown-divider\"></div>\n                      <a className=\"dropdown-item\" href=\"!#\" onClick={logout}>\n                        Logout\n                      </a>\n                    </div>\n                  </li>\n                </ul>\n              </>\n            )}\n          </div>\n        </div>\n      </div>\n    </nav>\n  );\n}\n\nexport default AppBar;\n","import axios from \"axios\";\nimport config from \"../common/config.json\";\n\nexport function getProfile() {\n  const url = config.ROOT_PATH + \"/private/get-my-profile\";\n  return axios.get(url);\n}\n\nexport function getBalance() {\n  const url = config.ROOT_PATH + \"/private/get-balance\";\n  return axios.get(url);\n}\n\nexport function getUnreadCount() {\n  const url = config.ROOT_PATH + \"/private/count-unread-notifications\";\n  return axios.get(url);\n}\n","import React from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\n\nfunction IconLink(props) {\n  return (\n    <a href={props.href} className=\"card-link white-link\">\n      <FontAwesomeIcon icon={props.icon} size=\"lg\" />\n    </a>\n  );\n}\n\nfunction Footer() {\n  return (\n    <footer>\n      <div className=\"footer py-4\">\n        <div className=\"container\">\n          <div className=\"d-none d-sm-block\">\n            <div className=\"d-flex align-items-center justify-content-between\">\n              <div className=\"text-white small\">Copyright © VStore 2020</div>\n              <div>\n                <IconLink\n                  href=\"https://www.facebook.com/vstoremyanmar/\"\n                  icon={[\"fab\", \"facebook-square\"]}\n                />\n                <IconLink href=\"/\" icon={[\"fab\", \"facebook-messenger\"]} />\n              </div>\n            </div>\n          </div>\n          <div className=\"d-block d-sm-none\">\n            <div className=\"row mb-2\">\n              <div className=\"mx-auto small\">\n                <div className=\"text-white\">Copyright © VStore 2020</div>\n              </div>\n            </div>\n            <div className=\"row\">\n              <div className=\"mx-auto\">\n                <IconLink\n                  href=\"https://www.facebook.com/vstoremyanmar/\"\n                  icon={[\"fab\", \"facebook-square\"]}\n                />\n                <IconLink href=\"/\" icon={[\"fab\", \"facebook-messenger\"]} />\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </footer>\n  );\n}\n\nexport default Footer;\n","import React from \"react\";\n\nfunction Welcome() {\n  return (\n    <>\n      <h1 className=\"display-4 mt-4\">Wanna be a digital store owner ?</h1>\n      <h5 className=\"text-muted mt-3\">\n        You just need 10,000 Kyats and VStore application in your mobile. Let's\n        get started now!\n      </h5>\n    </>\n  );\n}\n\nexport default Welcome;\n","import React, { useState } from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\n\nfunction PasswordInput(props) {\n  const [mode, setMode] = useState({ type: \"password\" });\n\n  let wrapperClass = \"form-control\";\n  if (props.error && props.error.length > 0) {\n    wrapperClass += \" is-invalid\";\n  }\n\n  function handleToggle(event) {\n    event.preventDefault();\n    const current = mode.type;\n    setMode({\n      type: current === \"text\" ? \"password\" : \"text\",\n    });\n  }\n\n  return (\n    <div className=\"form-group\">\n      <label className=\"font-weight-bold\">{props.label}</label>\n      <div className=\"input-group\">\n        <input\n          type={mode.type}\n          className={wrapperClass}\n          placeholder={props.placeholder}\n          value={props.value}\n          onChange={props.onChange}\n          name={props.name}\n        />\n        <div className=\"input-group-append\">\n          <a href=\"!#\" onClick={handleToggle} className=\"input-group-text\">\n            <FontAwesomeIcon\n              style={{ width: \"24px\" }}\n              icon={[\"fas\", mode.type === \"text\" ? \"eye\" : \"eye-slash\"]}\n            />\n          </a>\n        </div>\n        {props.error && <div className=\"invalid-feedback\">{props.error}</div>}\n      </div>\n    </div>\n  );\n}\n\nexport default PasswordInput;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nfunction TextInput(props) {\n  let wrapperClass = \"form-control\";\n  if (props.error && props.error.length > 0) {\n    wrapperClass += \" is-invalid\";\n  }\n  return (\n    <div className=\"form-group\">\n      <label className=\"font-weight-bold\">{props.label}</label>\n      <input\n        type={props.type}\n        className={wrapperClass}\n        placeholder={props.placeholder}\n        value={props.value}\n        onChange={props.onChange}\n        name={props.name}\n      />\n      {props.error && <div className=\"invalid-feedback\">{props.error}</div>}\n    </div>\n  );\n}\n\nTextInput.propTypes = {\n  label: PropTypes.string.isRequired,\n};\n\nexport default TextInput;\n","import { Link } from \"react-router-dom\";\nimport PasswordInput from \"../../common/PasswordInput\";\nimport TextInput from \"../../common/TextInput\";\n\nfunction LoginForm(props) {\n  return (\n    <form onSubmit={props.onSubmit}>\n      <TextInput\n        label=\"Mobile\"\n        name=\"mobile\"\n        type=\"text\"\n        placeholder=\"Your registered mobile\"\n        value={props.data.mobile}\n        onChange={props.onChange}\n        error={props.errors.mobile}\n      />\n      <PasswordInput\n        label=\"Password\"\n        name=\"password\"\n        placeholder=\"Your password\"\n        value={props.data.password}\n        onChange={props.onChange}\n        error={props.errors.password}\n      />\n      <div className=\"form-group\">\n        <div className=\"row\">\n          <div className=\"col\"></div>\n          <div className=\"col-auto\">\n            <Link to=\"/reset-password\" className=\"card-link text-primary small\">\n              Forgot password?\n            </Link>\n          </div>\n        </div>\n      </div>\n      <button\n        type=\"submit\"\n        className=\"btn btn-primary btn-block\"\n        disabled={props.loading}\n      >\n        {props.loading && (\n          <>\n            <span\n              className=\"spinner-border spinner-border-sm\"\n              role=\"status\"\n              aria-hidden=\"true\"\n            ></span>\n            &nbsp;\n          </>\n        )}\n        Sign In\n      </button>\n    </form>\n  );\n}\n\nexport default LoginForm;\n","import React, { useEffect, useReducer, useState } from \"react\";\nimport AppBar from \"../../common/AppBar\";\nimport Footer from \"../../common/Footer\";\nimport Welcome from \"../../common/Welcome\";\nimport LoginForm from \"./LoginForm\";\nimport { Link } from \"react-router-dom\";\nimport { login } from \"./LoginAPI\";\nimport config from \"../../common/config.json\";\nimport { v4 as uuidv4 } from \"uuid\";\n\nfunction reducer(state, action) {\n  switch (action.type) {\n    case \"loading\":\n      return {\n        loading: true,\n      };\n    case \"success\":\n      return {\n        loading: false,\n      };\n    case \"error\":\n      return {\n        loading: false,\n        error: action.error,\n      };\n    default:\n      return state;\n  }\n}\n\nfunction Login(props) {\n  const [data, setData] = useState({\n    mobile: \"\",\n    password: \"\",\n    token: \"\",\n  });\n  const [errors, setErrors] = useState({});\n\n  const [state, dispatch] = useReducer(reducer, { loading: false });\n\n  useEffect(() => {\n    document.title = \"VStore | Login\";\n  });\n\n  function handleChange({ target }) {\n    setData({\n      ...data,\n      [target.name]: target.value,\n    });\n  }\n\n  function handleSubmit(event) {\n    event.preventDefault();\n    if (!isFormValid()) return;\n    dispatch({ type: \"loading\" });\n    const token = uuidv4();\n    data.token = token;\n    localStorage.setItem(config.KEY_DEVICE_ID, token);\n    login(data)\n      .then((resp) => {\n        // const parsed = JSON.parse(\n        //   resp.data.replace(/\"customerId\":(\\d+),/g, '\"customerId\":\"$1\",')\n        // );\n        if (resp.data.result !== \"FAIL\") {\n          localStorage.setItem(config.KEY_TOKEN, resp.data.token);\n          localStorage.setItem(config.KEY_USER_ID, resp.data.customerId);\n          props.history.push(\"/app\");\n        } else {\n          dispatch({ type: \"error\", error: \"Invalid login ID or password.\" });\n        }\n      })\n      .catch((error) => {\n        console.log(error.response.data);\n        dispatch({ type: \"error\", error: \"Something went wrong.\" });\n      });\n  }\n\n  function isFormValid() {\n    const _errors = {};\n    if (!data.mobile) _errors.mobile = \"Mobile number is invalid.\";\n    if (!data.password || data.password.length < 8) {\n      _errors.password = \"Password should not be less than 8 characters.\";\n    }\n    setErrors(_errors);\n    return Object.keys(_errors).length === 0;\n  }\n\n  return (\n    <>\n      <AppBar />\n      <div className=\"container\">\n        <div className=\"row mt-2 mb-5\">\n          <div className=\"my-4 col-lg-7 d-none d-md-none d-lg-block\">\n            <Welcome />\n          </div>\n          <div className=\"col-md-8 col-lg-5 my-4 mx-auto\">\n            <div className=\"card shadow border-0\">\n              <div className=\"card-body\">\n                <div className=\"text-center mb-3 font-weight-bold font-xl\">\n                  Sign In\n                </div>\n                {state.error && (\n                  <div className=\"text-center text-danger mb-2\">\n                    {state.error}\n                  </div>\n                )}\n                <LoginForm\n                  data={data}\n                  onChange={handleChange}\n                  onSubmit={handleSubmit}\n                  errors={errors}\n                  loading={state.loading}\n                />\n                <div className=\"row mt-4\">\n                  <div className=\"mx-auto small\">\n                    <span>Don't have an account?</span>\n                    <Link to=\"/sign-up\" className=\"card-link text-primary ml-1\">\n                      Sign Up\n                    </Link>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <br />\n      <br />\n      <Footer />\n    </>\n  );\n}\n\nexport default Login;\n","import axios from \"axios\";\nimport config from \"../../common/config.json\";\n\nexport function login(data) {\n  const url = config.ROOT_PATH + \"/public/sign-in\";\n  const body = {\n    mobile: data.mobile,\n    password: data.password,\n    token: data.token,\n  };\n  return axios.post(url, body);\n}\n","import React from \"react\";\nimport { Redirect, Route } from \"react-router-dom\";\nimport appConfig from \"./config.json\";\n\nconst PrivateRoute = ({ component: Component, ...rest }) => (\n  <Route\n    {...rest}\n    render={(props) =>\n      localStorage.getItem(appConfig.KEY_TOKEN) ? (\n        <Component {...props} />\n      ) : (\n        <Redirect to=\"/login\" />\n      )\n    }\n  />\n);\n\nexport default PrivateRoute;\n","export default __webpack_public_path__ + \"static/media/error-404-monochrome.a0894fb6.svg\";","import { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport NotFoundLogo from \"../common/error-404-monochrome.svg\";\nimport Footer from \"./Footer\";\n\nfunction NotFound() {\n  return (\n    <>\n      <div className=\"container py-4\">\n        <div className=\"row justify-content-center\">\n          <div className=\"col-lg-6\">\n            <div className=\"text-center mt-4\">\n              <img\n                className=\"mb-4 img-error\"\n                width=\"250\"\n                src={NotFoundLogo}\n                alt=\"Not found\"\n              />\n              <p className=\"lead\">\n                This requested URL was not found on this server.\n              </p>\n              <Link to=\"/app\" className=\"card-link\">\n                <FontAwesomeIcon\n                  icon={[\"fas\", \"arrow-left\"]}\n                  className=\"mr-1\"\n                />{\" \"}\n                Return to Home\n              </Link>\n            </div>\n          </div>\n        </div>\n      </div>\n      <Footer />\n    </>\n  );\n}\n\nexport default NotFound;\n","import PasswordInput from \"../../common/PasswordInput\";\nimport TextInput from \"../../common/TextInput\";\n\nfunction RegisterForm(props) {\n  return (\n    <form>\n      <TextInput label=\"Mobile\" type=\"text\" placeholder=\"Your mobile\" />\n      <PasswordInput label=\"Password\" placeholder=\"Minimum 8 charachers\" />\n      <TextInput label=\"Name\" type=\"text\" placeholder=\"Your name\" />\n      <div className=\"row mb-3\">\n        <div className=\"mx-auto small\">\n          <span>Do not let others know your password.</span>\n        </div>\n      </div>\n      <button type=\"submit\" className=\"btn btn-primary btn-block\">\n        Sign Up\n      </button>\n    </form>\n  );\n}\n\nexport default RegisterForm;\n","import React, { useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport AppBar from \"../../common/AppBar\";\nimport Footer from \"../../common/Footer\";\nimport Welcome from \"../../common/Welcome\";\nimport RegisterForm from \"./RegisterForm\";\n\nfunction Register() {\n  useEffect(() => {\n    document.title = \"VStore | Register\";\n  });\n\n  return (\n    <>\n      <AppBar />\n      <div className=\"container\">\n        <div className=\"row mt-2 mb-5\">\n          <div className=\"my-4 col-lg-7 d-none d-md-none d-lg-block\">\n            <Welcome />\n          </div>\n          <div className=\"col-md-8 col-lg-5 my-4 mx-auto\">\n            <div className=\"card shadow border-0\">\n              <div className=\"card-body\">\n                <div className=\"text-center mb-3 font-weight-bold font-xl\">\n                  Register\n                </div>\n                <RegisterForm />\n                <div className=\"row mt-4\">\n                  <div className=\"mx-auto small\">\n                    <span>Already have an account?</span>\n                    <Link to=\"/login\" className=\"card-link text-primary ml-1\">\n                      Sign In\n                    </Link>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <br />\n      <br />\n      <Footer />\n    </>\n  );\n}\n\nexport default Register;\n","import TextInput from \"../../common/TextInput\";\n\nfunction ResetPasswordForm(props) {\n  return (\n    <form>\n      <div className=\"form-group\">\n        <div className=\"bg-light rounded py-2 px-3\">\n          <span className=\"small\">\n            Verification code will be sent to your registered mobile of your\n            account.\n          </span>\n        </div>\n      </div>\n      <TextInput\n        label=\"Mobile\"\n        type=\"text\"\n        placeholder=\"Your registered mobile\"\n      />\n      <button type=\"submit\" className=\"btn btn-primary btn-block\">\n        Reset Password\n      </button>\n    </form>\n  );\n}\n\nexport default ResetPasswordForm;\n","import React, { useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport AppBar from \"../../common/AppBar\";\nimport Footer from \"../../common/Footer\";\nimport Welcome from \"../../common/Welcome\";\nimport ResetPasswordForm from \"./ResetPasswordForm\";\n\nfunction ResetPassword() {\n  useEffect(() => {\n    document.title = \"VStore | Reset Password\";\n  });\n\n  return (\n    <>\n      <AppBar />\n      <div className=\"container\">\n        <div className=\"row mt-2 mb-5\">\n          <div className=\"my-4 col-lg-7 d-none d-md-none d-lg-block\">\n            <Welcome />\n          </div>\n          <div className=\"col-md-8 col-lg-5 my-4 mx-auto\">\n            <div className=\"card shadow border-0\">\n              <div className=\"card-body\">\n                <ResetPasswordForm />\n                <div className=\"row mt-3\">\n                  <div className=\"mx-auto small\">\n                    <Link to=\"/login\" className=\"card-link text-primary\">\n                      Back to sign in\n                    </Link>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <br />\n      <br />\n      <Footer />\n    </>\n  );\n}\n\nexport default ResetPassword;\n","import React from \"react\";\nimport { Redirect, Route } from \"react-router-dom\";\nimport appConfig from \"./config.json\";\n\nconst AuthRoute = ({ component: Component, ...rest }) => (\n  <Route\n    {...rest}\n    render={(props) =>\n      localStorage.getItem(appConfig.KEY_TOKEN) ? (\n        <Redirect to=\"/app\" />\n      ) : (\n        <Component {...props} />\n      )\n    }\n  />\n);\n\nexport default AuthRoute;\n","import axios from \"axios\";\nimport appConfig from \"../../common/config.json\";\n\nexport function getStores() {\n  const url = appConfig.ROOT_PATH + \"/private/load-stores\";\n  return axios.get(url).then((resp) => saveCache(resp.data));\n}\n\nfunction saveCache(data) {\n  localStorage.setItem(appConfig.KEY_CACHE_EXPIRY, data.expiryDate);\n  let stores = [];\n  let catalogs = [];\n  let products = [];\n  for (let a in data.stores) {\n    let store = data.stores[a];\n    let s = { ...store };\n    s[\"id\"] = s.storeId;\n    delete s.storeId;\n    delete s.listingGroups;\n    stores.push(s);\n    for (let b in store.listingGroups) {\n      let catalog = store.listingGroups[b];\n      let c = { ...catalog };\n      c[\"id\"] = c.listingGroupId;\n      c[\"parentId\"] = store.storeId;\n      delete c.listingGroupId;\n      delete c.listings;\n      catalogs.push(c);\n      for (let c in catalog.listings) {\n        let product = catalog.listings[c];\n        let p = { ...product };\n        p[\"id\"] = p.listingId;\n        p[\"parentId\"] = catalog.listingGroupId;\n        delete p.listingId;\n        products.push(p);\n      }\n    }\n  }\n  localStorage.setItem(appConfig.KEY_CACHE_STORES, JSON.stringify(stores));\n  localStorage.setItem(appConfig.KEY_CACHE_CATALOGS, JSON.stringify(catalogs));\n  localStorage.setItem(appConfig.KEY_CACHE_PRODUCTS, JSON.stringify(products));\n}\n","import { Link } from \"react-router-dom\";\n\nfunction GridCell(props) {\n  let wrapperClass = \"w-100\";\n  if (props.index % 2 === 0) {\n    wrapperClass += \" mr-1\";\n  } else {\n    wrapperClass += \" ml-1\";\n  }\n  return (\n    <a href=\"!h\" className=\"text-decoration-none\" onClick={props.onClick}>\n      <div className=\"row h-100\">\n        <div className={wrapperClass}>\n          <div className=\"card border-0 rounded-lg shadow-cm list-group-item-action h-100\">\n            <div className=\"card-body\">\n              <div className=\"row\">\n                <div className=\"mx-auto\">\n                  <img\n                    src={props.logo}\n                    height=\"50\"\n                    alt=\"...\"\n                    style={{\n                      maxWidth: \"100px\",\n                    }}\n                  />\n                </div>\n              </div>\n              <div\n                className=\"text-dark text-center font-weight-medium user-select-none mt-2\"\n                style={{\n                  maxWidth: \"100%\",\n                  wordWrap: \"break-word\",\n                }}\n              >\n                {props.title}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </a>\n  );\n}\n\nexport default GridCell;\n","import { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { useEffect, useState } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport appConfig from \"../common/config.json\";\nimport { getBalance, getProfile } from \"./ProfileAPI\";\n\nfunction UserDetail() {\n  const [profile, setProfile] = useState({\n    name: \"...\",\n    mobile: \"...\",\n  });\n\n  useEffect(() => {\n    let isCancel = false;\n    const _profile = window.sessionStorage.getItem(appConfig.KEY_PROFILE);\n    if (!_profile) {\n      getProfile()\n        .then((resp) => {\n          const _data = { ...profile };\n          _data.name = resp.data.name;\n          _data.mobile = resp.data.mobile;\n          window.sessionStorage.setItem(\n            appConfig.KEY_PROFILE,\n            JSON.stringify(_data)\n          );\n          !isCancel && setProfile(_data);\n        })\n        .catch((error) => {\n          console.log(error.response.data);\n        });\n    } else {\n      const _data = { ...profile };\n      const parsed = JSON.parse(_profile);\n      _data.name = parsed.name;\n      _data.mobile = parsed.mobile;\n      !isCancel && setProfile(_data);\n    }\n    return () => {\n      isCancel = true;\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <>\n      <h4 className=\"text-center\">{profile.name}</h4>\n      <div className=\"text-center text-muted mb-3\">{profile.mobile}</div>\n    </>\n  );\n}\n\nfunction MainBalance() {\n  const [balance, setBalance] = useState(0.0);\n\n  useEffect(() => {\n    let isCancel = false;\n    const _balance = window.sessionStorage.getItem(appConfig.KEY_BALANCE);\n    if (!_balance) {\n      getBalance()\n        .then((resp) => {\n          window.sessionStorage.setItem(\n            appConfig.KEY_BALANCE,\n            resp.data.balance\n          );\n          !isCancel && setBalance(parseFloat(resp.data.balance));\n        })\n        .catch((error) => {\n          console.log(error.response.data);\n        });\n    } else if (!isNaN(parseFloat(_balance))) {\n      !isCancel && setBalance(parseFloat(_balance));\n    }\n    return () => {\n      isCancel = true;\n    };\n  }, []);\n\n  return (\n    <h5 className=\"text-center text-success mb-0\">\n      {balance.toLocaleString(\"en\", {\n        minimumFractionDigits: 2,\n      })}{\" \"}\n      VP\n    </h5>\n  );\n}\n\nfunction Profile() {\n  const history = useHistory();\n\n  function logout(event) {\n    event.preventDefault();\n    localStorage.clear();\n    sessionStorage.clear();\n    history.push(\"/login\");\n  }\n\n  function getWalletComponent() {\n    return (\n      <>\n        <div className=\"list-group mb-3\">\n          <Link to=\"/\" className=\"list-group-item list-group-item-action\">\n            <div className=\"row\">\n              <div className=\"col\">Transfer VP</div>\n              <div className=\"col-auto text-secondary\">Transfer</div>\n            </div>\n          </Link>\n          <Link to=\"/\" className=\"list-group-item list-group-item-action\">\n            <div className=\"row\">\n              <div className=\"col\">Insufficient VP ?</div>\n              <div className=\"col-auto text-secondary\">Deposit</div>\n            </div>\n          </Link>\n\n          <Link\n            to=\"/balance-history\"\n            className=\"list-group-item list-group-item-action\"\n          >\n            <div className=\"row\">\n              <div className=\"col\">VP Balance History</div>\n              <div className=\"col-auto text-secondary\">View</div>\n            </div>\n          </Link>\n          <Link\n            to=\"/transfer-history\"\n            className=\"list-group-item list-group-item-action\"\n          >\n            <div className=\"row\">\n              <div className=\"col\">VP Transfer History</div>\n              <div className=\"col-auto text-secondary\">View</div>\n            </div>\n          </Link>\n        </div>\n        <div className=\"list-group mb-3\">\n          <Link to=\"/\" className=\"list-group-item list-group-item-action\">\n            <div className=\"row\">\n              <div className=\"col\">Use Coupon Code</div>\n              <div className=\"col-auto text-secondary\">Use</div>\n            </div>\n          </Link>\n          <Link to=\"/\" className=\"list-group-item list-group-item-action\">\n            <div className=\"row\">\n              <div className=\"col\">Redeem Voucher</div>\n              <div className=\"col-auto text-secondary\">Redeem</div>\n            </div>\n          </Link>\n        </div>\n      </>\n    );\n  }\n\n  return (\n    <div\n      className=\"sticky-top\"\n      style={{\n        top: \"72px\",\n        zIndex: 0,\n      }}\n    >\n      <div className=\"card border-0 shadow-cm rounded-lg mb-3\">\n        <div className=\"card-body\">\n          <UserDetail />\n          <MainBalance />\n        </div>\n      </div>\n\n      <div className=\"d-none d-lg-block\">{getWalletComponent()}</div>\n\n      <div className=\"d-block d-lg-none\">\n        <ul className=\"nav nav-pills nav-justified mb-3\" role=\"tablist\">\n          <li className=\"nav-item\">\n            <a\n              href=\"#wallet\"\n              className=\"nav-link active\"\n              id=\"wallet-tab\"\n              data-toggle=\"tab\"\n              role=\"tab\"\n              aria-controls=\"wallet\"\n              aria-selected=\"true\"\n            >\n              <FontAwesomeIcon icon={[\"fas\", \"wallet\"]} />\n            </a>\n          </li>\n          <li className=\"nav-item\">\n            <a\n              href=\"#entry\"\n              className=\"nav-link\"\n              id=\"entry-tab\"\n              data-toggle=\"tab\"\n              role=\"tab\"\n              aria-controls=\"entry\"\n              aria-selected=\"false\"\n            >\n              <div\n                style={{\n                  transform: \"rotate(90deg)\",\n                }}\n              >\n                <FontAwesomeIcon icon={[\"fas\", \"exchange-alt\"]} />\n              </div>\n            </a>\n          </li>\n          <li className=\"nav-item\">\n            <a\n              href=\"#setting\"\n              className=\"nav-link\"\n              id=\"setting-tab\"\n              data-toggle=\"tab\"\n              role=\"tab\"\n              aria-controls=\"setting\"\n              aria-selected=\"false\"\n            >\n              <FontAwesomeIcon icon={[\"fas\", \"cog\"]} />\n            </a>\n          </li>\n        </ul>\n\n        <div className=\"tab-content\">\n          <div\n            className=\"tab-pane fade show active\"\n            id=\"wallet\"\n            role=\"tabpanel\"\n            aria-labelledby=\"wallet-tab\"\n          >\n            {getWalletComponent()}\n          </div>\n          <div\n            className=\"tab-pane fade\"\n            id=\"entry\"\n            role=\"tabpanel\"\n            aria-labelledby=\"entry-tab\"\n          >\n            <div className=\"list-group mb-3\">\n              <Link\n                to=\"/epin-history\"\n                className=\"list-group-item list-group-item-action\"\n              >\n                <div className=\"row\">\n                  <div className=\"col\">E-Pin History</div>\n                  <div className=\"col-auto text-secondary\">View</div>\n                </div>\n              </Link>\n              <Link\n                to=\"/topup-history\"\n                className=\"list-group-item list-group-item-action\"\n              >\n                <div className=\"row\">\n                  <div className=\"col\">Topup History</div>\n                  <div className=\"col-auto text-secondary\">View</div>\n                </div>\n              </Link>\n            </div>\n          </div>\n          <div\n            className=\"tab-pane fade\"\n            id=\"setting\"\n            role=\"tabpanel\"\n            aria-labelledby=\"setting-tab\"\n          >\n            <div className=\"list-group mb-3 d-block d-lg-none\">\n              <Link to=\"/\" className=\"list-group-item list-group-item-action\">\n                <div className=\"row\">\n                  <div className=\"col\">Change Name</div>\n                  <div className=\"col-auto text-secondary\">\n                    <FontAwesomeIcon icon={[\"fas\", \"pen\"]} />\n                  </div>\n                </div>\n              </Link>\n              <Link to=\"/\" className=\"list-group-item list-group-item-action\">\n                <div className=\"row\">\n                  <div className=\"col\">Change Password</div>\n                  <div className=\"col-auto text-secondary\">\n                    <FontAwesomeIcon icon={[\"fas\", \"pen\"]} />\n                  </div>\n                </div>\n              </Link>\n              <a\n                href=\"!#\"\n                className=\"list-group-item list-group-item-action\"\n                onClick={logout}\n              >\n                <div className=\"row\">\n                  <div className=\"col\">Logout</div>\n                  <div className=\"col-auto text-secondary\">\n                    <FontAwesomeIcon icon={[\"fas\", \"sign-out-alt\"]} />\n                  </div>\n                </div>\n              </a>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Profile;\n","import Profile from \"../profile/Profile\";\nimport AppBar from \"./AppBar\";\nimport Footer from \"./Footer\";\n\nfunction Template(props) {\n  return (\n    <>\n      <AppBar active={props.active} />\n      <div className=\"container\">\n        <div className=\"row mt-3 mb-5\">\n          <div className=\"col-lg-4 d-none d-md-none d-lg-block\">\n            <Profile />\n          </div>\n          <div className=\"col-md-12 col-lg-8\">{props.children}</div>\n        </div>\n        <br />\n        <br />\n        <br />\n      </div>\n      <Footer />\n    </>\n  );\n}\n\nexport default Template;\n","import React, { useEffect, useState } from \"react\";\nimport appConfig from \"../../common/config.json\";\nimport { getStores } from \"../store/StoresAPI\";\nimport GridCell from \"../GridCell\";\nimport { Link } from \"react-router-dom\";\nimport Template from \"../../common/Template\";\n\nfunction Catalogs(props) {\n  const [data, setData] = useState({\n    items: [],\n    store: \"\",\n  });\n\n  useEffect(() => {\n    let isCancel = false;\n    const storeId = props.match.params.store;\n    const _expiry = localStorage.getItem(appConfig.KEY_CACHE_EXPIRY);\n\n    let _ary = localStorage.getItem(appConfig.KEY_CACHE_CATALOGS);\n\n    if (!_ary || Number(_expiry) <= new Date().getTime()) {\n      getStores()\n        .then((_) => {\n          if (!isCancel) {\n            parseData(\n              localStorage.getItem(appConfig.KEY_CACHE_CATALOGS),\n              storeId\n            );\n          }\n        })\n        .catch((error) => {\n          console.log(error.response.data);\n        });\n    } else {\n      if (!isCancel) {\n        parseData(_ary, storeId);\n      }\n    }\n    return () => {\n      isCancel = true;\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [props.match.params.store]);\n\n  function parseData(ary, storeId) {\n    let _stores = localStorage.getItem(appConfig.KEY_CACHE_STORES);\n\n    if (!_stores) {\n      props.history.push(\"/\");\n      return;\n    }\n\n    let store = JSON.parse(_stores).find((a) => a.id === storeId);\n\n    if (!store) {\n      props.history.push(\"/\");\n      return;\n    }\n    let _items = JSON.parse(ary);\n    _items.sort((a, b) => a.orderIndex - b.orderIndex);\n    setData({\n      items: _items.filter((d) => d.parentId === storeId),\n      store: store.title,\n    });\n  }\n\n  return (\n    <Template>\n      <div className=\"row\">\n        <div className=\"col-md-12\">\n          <nav aria-label=\"breadcrumb\">\n            <ol className=\"breadcrumb bg-white shadow-cm\">\n              <li className=\"breadcrumb-item\">\n                <Link to=\"/app\" className=\"card-link\">\n                  Home\n                </Link>\n              </li>\n              <li className=\"breadcrumb-item active\">{data.store}</li>\n            </ol>\n          </nav>\n        </div>\n      </div>\n\n      <div className=\"col-md-12\">\n        <div className=\"row\">\n          {data.items.map((s, index) => {\n            return (\n              <div key={s.id} className=\"col-6 col-sm-6 col-md-6 mb-3\">\n                <GridCell\n                  id={s.id}\n                  logo={s.photoUrl}\n                  title={s.title}\n                  index={index}\n                  slug={props.match.params.store + \"/\" + s.id}\n                />\n              </div>\n            );\n          })}\n        </div>\n      </div>\n    </Template>\n  );\n}\n\nexport default Catalogs;\n","function ProductCell(props) {\n  let wrapperClass = \"w-100\";\n  if (props.index % 2 === 0) {\n    wrapperClass += \" mr-1\";\n  } else {\n    wrapperClass += \" ml-1\";\n  }\n  return (\n    <a href=\"!#\" className=\"text-decoration-none\" onClick={props.onClick}>\n      <div className=\"row h-100\">\n        <div className={wrapperClass}>\n          <div className=\"card border-0 rounded-lg shadow-cm list-group-item-action h-100\">\n            <div className=\"card-body\">\n              <div className=\"row\">\n                <div className=\"mx-auto\">\n                  <img\n                    src={props.logo}\n                    height=\"50\"\n                    alt=\"...\"\n                    style={{\n                      maxWidth: \"100px\",\n                    }}\n                  />\n                </div>\n              </div>\n\n              <div\n                className=\"text-secondary text-center user-select-none mt-3\"\n                style={{\n                  maxWidth: \"100%\",\n                  wordWrap: \"break-word\",\n                }}\n              >\n                {props.title}\n              </div>\n\n              <h5\n                className=\"text-success font-weight-medium text-center user-select-none mt-2 mb-0\"\n                style={{\n                  maxWidth: \"100%\",\n                  wordWrap: \"break-word\",\n                }}\n              >\n                {props.price} VP\n              </h5>\n            </div>\n          </div>\n        </div>\n      </div>\n    </a>\n  );\n}\n\nexport default ProductCell;\n","import React, { useEffect, useState } from \"react\";\nimport appConfig from \"../../common/config.json\";\nimport { getStores } from \"../store/StoresAPI\";\nimport ProductCell from \"../ProductCell\";\nimport { Link } from \"react-router-dom\";\nimport Template from \"../../common/Template\";\n\nfunction Products(props) {\n  const [data, setData] = useState({\n    items: [],\n    store: \"\",\n    catalog: \"\",\n  });\n\n  useEffect(() => {\n    let isCancel = false;\n    const storeId = props.match.params.store;\n    const catalogId = props.match.params.catalog;\n\n    const _expiry = localStorage.getItem(appConfig.KEY_CACHE_EXPIRY);\n\n    let _ary = localStorage.getItem(appConfig.KEY_CACHE_PRODUCTS);\n\n    if (!_ary || Number(_expiry) <= new Date().getTime()) {\n      getStores()\n        .then((_) => {\n          if (!isCancel) {\n            parseData(\n              localStorage.getItem(appConfig.KEY_CACHE_PRODUCTS),\n              storeId,\n              catalogId\n            );\n          }\n        })\n        .catch((error) => {\n          console.log(error.response.data);\n        });\n    } else {\n      if (!isCancel) {\n        parseData(_ary, storeId, catalogId);\n      }\n    }\n\n    return () => {\n      isCancel = true;\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [props.match.params.store, props.match.params.catalog]);\n\n  function parseData(ary, storeId, catalogId) {\n    try {\n      let _stores = localStorage.getItem(appConfig.KEY_CACHE_STORES);\n      let _catalogs = localStorage.getItem(appConfig.KEY_CACHE_CATALOGS);\n\n      let store = JSON.parse(_stores).find((a) => a.id === storeId);\n      let catalog = JSON.parse(_catalogs).find((a) => a.id === catalogId);\n\n      if (!store && !catalog) {\n        props.history.push(\"/app\");\n        return;\n      }\n\n      let _items = JSON.parse(ary);\n      _items.sort((a, b) => a.orderIndex - b.orderIndex);\n      setData({\n        items: _items.filter((d) => d.parentId === catalogId),\n        store: store.title,\n        catalog: catalog.title,\n      });\n    } catch (error) {\n      console.log(error.message);\n      props.history.push(\"/app\");\n    }\n  }\n\n  return (\n    <Template>\n      <div className=\"row\">\n        <div className=\"col-md-12\">\n          <nav aria-label=\"breadcrumb\">\n            <ol className=\"breadcrumb bg-white shadow-cm\">\n              <li className=\"breadcrumb-item\">\n                <Link to=\"/app\" className=\"card-link\">\n                  Home\n                </Link>\n              </li>\n              <li className=\"breadcrumb-item\">\n                <Link\n                  to={\"/app/\" + props.match.params.store}\n                  className=\"card-link\"\n                >\n                  {data.store}\n                </Link>\n              </li>\n              <li className=\"breadcrumb-item active\">{data.catalog}</li>\n            </ol>\n          </nav>\n        </div>\n      </div>\n\n      <div className=\"col-md-12\">\n        <div className=\"row\">\n          {data.items.map((s, index) => {\n            return (\n              <div key={s.id} className=\"col-6 col-sm-6 col-md-6 mb-3\">\n                <ProductCell\n                  id={s.id}\n                  logo={s.photoUrl}\n                  title={s.title}\n                  index={index}\n                  price={s.sellingPrice}\n                />\n              </div>\n            );\n          })}\n        </div>\n      </div>\n    </Template>\n  );\n}\n\nexport default Products;\n","import { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { useEffect, useReducer } from \"react\";\nimport Template from \"../common/Template\";\nimport { getNotifications } from \"./NotificationAPI\";\n\nfunction reducer(state, action) {\n  switch (action.type) {\n    case \"loading\":\n      return {\n        loading: true,\n      };\n    case \"success\":\n      return {\n        data: action.data,\n        loading: false,\n      };\n    case \"error\":\n      return {\n        loading: false,\n        error: action.error,\n      };\n    default:\n      return state;\n  }\n}\n\nfunction Notification(props) {\n  const [state, dispatch] = useReducer(reducer, { data: [], loading: false });\n\n  useEffect(() => {\n    let isCancel = false;\n    document.title = \"VStore | Notifications\";\n    dispatch({ type: \"loading\" });\n    getNotifications()\n      .then((resp) => {\n        if (!isCancel) {\n          dispatch({\n            type: \"success\",\n            data: resp.data,\n          });\n        }\n      })\n      .catch((error) => {\n        console.log(error);\n        let msg = \"Something went wrong.\";\n        if (error.response) {\n          let data = error.response.data;\n          msg = data.errorCode ? data.errorCode : data;\n        }\n        !isCancel && dispatch({ type: \"error\", error: msg });\n      });\n    return () => {\n      isCancel = true;\n    };\n  }, []);\n\n  function formatDate(millis) {\n    let date = new Date(millis);\n    let formatter = Intl.DateTimeFormat(\"en-US\", {\n      dateStyle: \"medium\",\n      timeStyle: \"short\",\n    });\n    return formatter.format(date);\n  }\n\n  return (\n    <Template>\n      <div className=\"row\">\n        <div className=\"col-md-12\">\n          <div className=\"d-flex justify-content-between\">\n            <span className=\"h4 my-auto\">Notifications</span>\n            <button className=\"btn btn-sm btn-outline-primary \">\n              Delete All\n            </button>\n          </div>\n          <hr />\n          {state.loading && (\n            <div className=\"text-center py-4\">\n              <div className=\"spinner-border\" role=\"status\">\n                <span className=\"sr-only\">Loading...</span>\n              </div>\n            </div>\n          )}\n          {state.error && (\n            <div\n              className=\"alert alert-danger alert-dismissible fade show\"\n              role=\"alert\"\n            >\n              {state.error}\n              <button\n                type=\"button\"\n                className=\"close\"\n                data-dismiss=\"alert\"\n                aria-label=\"Close\"\n              >\n                <span aria-hidden=\"true\">&times;</span>\n              </button>\n            </div>\n          )}\n\n          {state.data && !state.data.length && (\n            <div className=\"text-center text-muted\">No notification found.</div>\n          )}\n\n          {state.data &&\n            state.data.map((n) => {\n              let read =\n                n.status === \"READ\" ? \" text-muted\" : \" font-weight-bold\";\n              return (\n                <a\n                  href=\"!#\"\n                  className=\"text-decoration-none\"\n                  key={n.notificationId}\n                >\n                  <div className=\"card border-0 rounded-lg shadow-cm mb-3 col-md-12 list-group-item-action\">\n                    <div className=\"card-body px-0\">\n                      <div className=\"media\">\n                        <div\n                          className=\"mr-3 bg-primary rounded-circle text-white\"\n                          style={{\n                            width: \"46px\",\n                            height: \"46px\",\n                          }}\n                        >\n                          <div className=\"d-flex align-items-center justify-content-center h-100\">\n                            <FontAwesomeIcon\n                              icon={[\"fas\", \"envelope\"]}\n                              size=\"lg\"\n                            />\n                          </div>\n                        </div>\n                        <div className=\"media-body\">\n                          <label\n                            className={\n                              \"my-0\" +\n                              (n.status === \"READ\"\n                                ? \" font-weight-medium\"\n                                : \" font-weight-bold\")\n                            }\n                          >\n                            {n.title}\n                          </label>\n                          <div className={\"mb-2 small\" + read}>\n                            {formatDate(n.notificationDate)}\n                          </div>\n                          <p className={\"card-text mb-0\" + read}>{n.body}</p>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </a>\n              );\n            })}\n        </div>\n      </div>\n    </Template>\n  );\n}\n\nexport default Notification;\n","import axios from \"axios\";\nimport appConfig from \"../common/config.json\";\n\nexport function getNotifications() {\n  const url = appConfig.ROOT_PATH + \"/private/get-notifications\";\n  return axios.get(url);\n}\n","import axios from \"axios\";\nimport appConfig from \"../common/config.json\";\nimport moment from \"moment\";\n\nexport function getTransferHistory(dateStr) {\n  const url = appConfig.ROOT_PATH + \"/private/get-transfer-history\";\n  const [from, to] = getDateRange(dateStr);\n\n  return axios.post(url, {\n    startDate: from,\n    endDate: to,\n    pageSize: 1000,\n    offset: 0,\n  });\n}\n\nexport function getBalanceHistory(dateStr) {\n  const url = appConfig.ROOT_PATH + \"/private/get-balance-history\";\n  const [from, to] = getDateRange(dateStr);\n\n  return axios.post(url, {\n    startDate: from,\n    endDate: to,\n    pageSize: 1000,\n    offset: 0,\n  });\n}\n\nexport function getEpinHistory(dateStr) {\n  const url = appConfig.ROOT_PATH + \"/private/get-epin-history\";\n  const [from, to] = getDateRange(dateStr);\n\n  return axios.post(url, {\n    startDate: from,\n    endDate: to,\n    pageSize: 1000,\n    offset: 0,\n  });\n}\n\nexport function getTopupHistory(dateStr) {\n  const url = appConfig.ROOT_PATH + \"/private/get-telecom-top-up-history\";\n  const [from, to] = getDateRange(dateStr);\n\n  return axios.post(url, {\n    startDate: from,\n    endDate: to,\n    pageSize: 1000,\n    offset: 0,\n  });\n}\n\nexport function getEpinPurchase(purchaseId) {\n  const url = appConfig.ROOT_PATH + \"/private/get-epin-purchase\";\n\n  return axios.post(url, {\n    purchaseId: purchaseId,\n  });\n}\n\nexport function getTopupPurchase(purchaseId) {\n  const url = appConfig.ROOT_PATH + \"/private/get-telecom-top-up-purchase\";\n\n  return axios.post(url, {\n    purchaseId: purchaseId,\n  });\n}\n\nfunction getDateRange(dateStr) {\n  // console.log(dateStr);\n\n  let date = moment(dateStr, \"DD-MMM-YYYY\");\n  if (!date.isValid()) {\n    date = moment();\n  }\n  let from = new Date(date.year(), date.month(), date.date(), 0, 0, 0);\n  let to = new Date(date.year(), date.month(), date.date(), 23, 59, 59);\n\n  return [from.getTime(), to.getTime()];\n}\n","function Loading(props) {\n  if (props.show) {\n    return (\n      <div className=\"text-center py-4\">\n        <div className=\"spinner-border\" role=\"status\">\n          <span className=\"sr-only\">Loading...</span>\n        </div>\n      </div>\n    );\n  }\n  return <></>;\n}\n\nexport default Loading;\n","function ErrorMessage(props) {\n  if (props.show) {\n    return (\n      <div\n        className=\"alert alert-danger alert-dismissible fade show\"\n        role=\"alert\"\n      >\n        {props.message}\n        <button\n          type=\"button\"\n          className=\"close\"\n          data-dismiss=\"alert\"\n          aria-label=\"Close\"\n        >\n          <span aria-hidden=\"true\">&times;</span>\n        </button>\n      </div>\n    );\n  }\n\n  return <></>;\n}\n\nexport default ErrorMessage;\n","import { useEffect, useState } from \"react\";\n\nexport function useArrayFetch(date, dataSource) {\n  const [data, setData] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n\n  useEffect(() => {\n    let isCancel = false;\n    setLoading(true);\n    dataSource(date)\n      .then((resp) => {\n        if (!isCancel) {\n          setLoading(false);\n          setData(resp.data);\n        }\n      })\n      .catch((error) => {\n        let data = error.response.data;\n        console.log(data);\n        let msg = data.errorCode ? data.errorCode : data;\n        if (!isCancel) {\n          setLoading(false);\n          setError(msg);\n        }\n      });\n    return () => {\n      isCancel = true;\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [date]);\n\n  return [data, loading, error];\n}\n\nexport function useDataFetch(date, dataSource) {\n  const [data, setData] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n\n  useEffect(() => {\n    let isCancel = false;\n    setLoading(true);\n    dataSource(date)\n      .then((resp) => {\n        if (!isCancel) {\n          setLoading(false);\n          setData(resp.data);\n        }\n      })\n      .catch((error) => {\n        let msg = \"Something went wrong.\";\n        console.log(error);\n        if (error.response) {\n          let data = error.response.data;\n          msg = data.errorCode ? data.errorCode : data;\n        }\n        if (!isCancel) {\n          setLoading(false);\n          setError(msg);\n        }\n      });\n    return () => {\n      isCancel = true;\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [date]);\n\n  return [data, loading, error];\n}\n","import { useEffect, useState } from \"react\";\nimport Template from \"../common/Template\";\nimport { getTransferHistory } from \"./HistoryAPI\";\nimport moment from \"moment\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport $ from \"jquery\";\nimport Loading from \"../common/Loading\";\nimport ErrorMessage from \"../common/ErrorMessage\";\nimport { useArrayFetch } from \"../common/DataFetchHook\";\n\nfunction VPTransferHistory() {\n  const fetch = (dateString) => getTransferHistory(dateString);\n  const [date, setDate] = useState(moment().format(\"DD-MMM-YYYY\"));\n  const [data, loading, error] = useArrayFetch(date, fetch);\n\n  useEffect(() => {\n    document.title = \"VStore | VP Transfer History\";\n    let datePicker = $(\"#datepicker\").datepicker({\n      uiLibrary: \"bootstrap4\",\n      format: \"dd-mmm-yyyy\",\n      maxDate: new Date(),\n      change: handleChange,\n    });\n    return () => {\n      datePicker.destroy();\n    };\n  }, []);\n\n  function handleChange({ target }) {\n    setDate(target.value);\n  }\n\n  function getIcon(dir) {\n    if (dir === \"SEND\") {\n      return <FontAwesomeIcon icon={[\"fas\", \"minus-circle\"]} size=\"lg\" />;\n    }\n    return <FontAwesomeIcon icon={[\"fas\", \"plus-circle\"]} size=\"lg\" />;\n  }\n\n  function getNote(notes) {\n    if (notes) {\n      return (\n        <>\n          <label className=\"mt-2 mb-0 font-weight-medium\">Notes</label>\n          <div className=\"small text-muted\">{notes}</div>\n        </>\n      );\n    }\n    return <></>;\n  }\n\n  return (\n    <Template>\n      <div className=\"row\">\n        <div className=\"col-md-12\">\n          <h4>VP Transfer History</h4>\n          <hr />\n          <form className=\"form-row mb-3\">\n            <div className=\"col-auto\">\n              <input\n                id=\"datepicker\"\n                type=\"text\"\n                className=\"form-control bg-white\"\n                defaultValue={date}\n                readOnly\n              />\n            </div>\n          </form>\n\n          <Loading show={loading} />\n          <ErrorMessage show={error} message={error} />\n\n          {!loading && !error && data && !data.length && (\n            <div className=\"text-center text-muted\">No data.</div>\n          )}\n\n          {!loading &&\n            !error &&\n            data &&\n            data.map((h, index) => {\n              let color =\n                h.direction === \"SEND\" ? \" text-danger\" : \" text-success\";\n              return (\n                <div\n                  key={index}\n                  className=\"card border-0 rounded-lg shadow-cm mb-3 col-md-12\"\n                >\n                  <div className=\"card-body px-0\">\n                    <div className=\"media\">\n                      <span className={\"mr-3\" + color}>\n                        {getIcon(h.direction)}\n                      </span>\n                      <div className=\"media-body\">\n                        <div className=\"d-flex justify-content-between\">\n                          <label className={\"my-0 font-weight-medium\" + color}>\n                            VP {h.amount.toLocaleString(\"en\")}\n                          </label>\n                          <label\n                            className={\"my-0 font-weight-medium text-muted\"}\n                          >\n                            {h.direction}\n                          </label>\n                        </div>\n                        <div className=\"mb-2 small text-muted\">\n                          {moment(h.txnDate).format(\"DD-MMM-yyyy hh:mm:ss A\")}\n                        </div>\n                        <label className=\"my-0 font-weight-medium\">\n                          {h.direction === \"SEND\" ? \"TO\" : \"FROM\"}\n                        </label>\n                        <div className=\"small text-muted\">\n                          {h.partnerMobile}\n                        </div>\n                        {getNote(h.notes)}\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              );\n            })}\n        </div>\n      </div>\n    </Template>\n  );\n}\n\nexport default VPTransferHistory;\n","import { useEffect, useState } from \"react\";\nimport Template from \"../common/Template\";\nimport { getBalanceHistory } from \"./HistoryAPI\";\nimport moment from \"moment\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport $ from \"jquery\";\nimport Loading from \"../common/Loading\";\nimport ErrorMessage from \"../common/ErrorMessage\";\nimport { useArrayFetch } from \"../common/DataFetchHook\";\n\nfunction VPBalanceHistory() {\n  const fetch = (dateString) => getBalanceHistory(dateString);\n  const [date, setDate] = useState(moment().format(\"DD-MMM-YYYY\"));\n  const [data, loading, error] = useArrayFetch(date, fetch);\n\n  useEffect(() => {\n    document.title = \"VStore | VP Balance History\";\n    let datePicker = $(\"#datepicker\").datepicker({\n      uiLibrary: \"bootstrap4\",\n      format: \"dd-mmm-yyyy\",\n      maxDate: new Date(),\n      change: handleChange,\n    });\n    return () => {\n      datePicker.destroy();\n    };\n  }, []);\n\n  function handleChange({ target }) {\n    setDate(target.value);\n  }\n\n  function getIcon(dir) {\n    if (dir === \"WITHDRAW\") {\n      return <FontAwesomeIcon icon={[\"fas\", \"minus-circle\"]} size=\"lg\" />;\n    }\n    return <FontAwesomeIcon icon={[\"fas\", \"plus-circle\"]} size=\"lg\" />;\n  }\n\n  return (\n    <Template>\n      <div className=\"row\">\n        <div className=\"col-md-12\">\n          <h4>VP Balance History</h4>\n          <hr />\n          <form className=\"form-row mb-3\">\n            <div className=\"col-auto\">\n              <input\n                id=\"datepicker\"\n                type=\"text\"\n                className=\"form-control bg-white\"\n                defaultValue={date}\n                readOnly\n              />\n            </div>\n          </form>\n\n          <Loading show={loading} />\n          <ErrorMessage show={error} message={error} />\n\n          {!loading && !error && data && !data.length && (\n            <div className=\"text-center text-muted\">No data.</div>\n          )}\n\n          {!loading &&\n            !error &&\n            data &&\n            data.map((h, index) => {\n              let color =\n                h.entryType === \"WITHDRAW\" ? \" text-danger\" : \" text-success\";\n              let statusColor = \" text-muted\";\n              switch (h.status) {\n                case \"PROCESSING\":\n                  statusColor = \" text-warning\";\n                  break;\n                case \"SUCCESS\":\n                  statusColor = \" text-success\";\n                  break;\n                case \"FAIL\":\n                  statusColor = \" text-danger\";\n                  break;\n                default:\n                  break;\n              }\n              return (\n                <div\n                  key={index}\n                  className=\"card border-0 rounded-lg shadow-cm mb-3 col-md-12\"\n                >\n                  <div className=\"card-body px-0\">\n                    <div className=\"media\">\n                      <span className={\"mr-3\" + color}>\n                        {getIcon(h.entryType)}\n                      </span>\n                      <div className=\"media-body\">\n                        <div className=\"d-flex justify-content-between\">\n                          <label className={\"my-0 font-weight-medium\" + color}>\n                            VP{\" \"}\n                            {h.amount.toLocaleString(\"en\", {\n                              minimumFractionDigits: 2,\n                            })}\n                          </label>\n                          <label\n                            className={\"my-0 font-weight-medium\" + statusColor}\n                          >\n                            {h.status}\n                          </label>\n                        </div>\n                        <div className=\"mb-2 small\">\n                          {moment(h.txnDate).format(\"DD-MMM-yyyy hh:mm:ss A\")}\n                        </div>\n                        <p className=\"text-muted mb-2\">{h.description}</p>\n                        <div className=\"row\">\n                          <div className=\"col-6\">\n                            <label className=\"font-weight-medium mb-0\">\n                              P/B (VP)\n                            </label>\n                          </div>\n                          <div className=\"col-6\">\n                            <label className=\"font-weight-medium mb-0\">\n                              N/B (VP)\n                            </label>\n                          </div>\n                          <div className=\"col-6\">\n                            <span className=\"small\">\n                              {h.balanceBefore.toLocaleString(\"en\", {\n                                minimumFractionDigits: 2,\n                              })}\n                            </span>\n                          </div>\n                          <div className=\"col-6\">\n                            <span className={\"small\" + color}>\n                              {h.balanceAfter.toLocaleString(\"en\", {\n                                minimumFractionDigits: 2,\n                              })}\n                            </span>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              );\n            })}\n        </div>\n      </div>\n    </Template>\n  );\n}\n\nexport default VPBalanceHistory;\n","import moment from \"moment\";\nimport { Link } from \"react-router-dom\";\n\nfunction PurchaseCell(props) {\n  const h = props.data;\n\n  let statusColor = \" text-muted\";\n  switch (h.purchaseStatus) {\n    case \"PROCESSING\":\n      statusColor = \" text-warning\";\n      break;\n    case \"SUCCESS\":\n      statusColor = \" text-success\";\n      break;\n    case \"FAIL\":\n      statusColor = \" text-danger\";\n      break;\n    default:\n      break;\n  }\n\n  return (\n    <div className=\"card border-0 rounded-lg shadow-cm mb-3 col-md-12\">\n      <div className=\"card-body px-0\">\n        <div className=\"media\">\n          <img src={h.productPhotoUrl} alt=\"\" className=\"mr-3\" width=\"68\" />\n          <div className=\"media-body\">\n            <span className=\"my-0 h5 font-weight-medium\">{h.productTitle}</span>\n            <div className=\"mb-2 small text-muted\">\n              {moment(h.txnDate).format(\"DD-MMM-yyyy hh:mm:ss A\")}\n            </div>\n            <p className=\"text-muted small mb-2\">{h.description}</p>\n\n            <label className=\"my-0 small font-weight-medium\">STATUS</label>\n            <div className={\"mb-2 small font-weight-medium\" + statusColor}>\n              {h.purchaseStatus}\n            </div>\n\n            <label className=\"my-0 small font-weight-medium\">PAID AMOUNT</label>\n            <div className=\"mb-2 text-muted small\">\n              {h.paidAmount.toLocaleString(\"en\", {\n                minimumFractionDigits: 2,\n              })}\n            </div>\n\n            <label className=\"my-0 small font-weight-medium\">PURCHASE ID</label>\n            <div className=\"mb-2 text-muted small\">\n              {h.purchaseId.replace(/\\B(?=(\\d{4})+(?!\\d))/g, \"-\")}\n            </div>\n\n            <label className=\"my-0 small font-weight-medium\">REMARK</label>\n            <div className=\"mb-2 text-muted small\">{h.remark}</div>\n\n            <div className=\"clearfix\">\n              <Link\n                to={props.detailRoute}\n                className=\"btn btn-sm btn-primary px-3 float-right\"\n              >\n                Detail\n              </Link>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default PurchaseCell;\n","import { useEffect, useState } from \"react\";\nimport Template from \"../common/Template\";\nimport { getEpinHistory } from \"./HistoryAPI\";\nimport { useArrayFetch } from \"../common/DataFetchHook\";\nimport moment from \"moment\";\nimport $ from \"jquery\";\nimport Loading from \"../common/Loading\";\nimport ErrorMessage from \"../common/ErrorMessage\";\nimport PurchaseCell from \"./PurchaseCell\";\nimport { Redirect } from \"react-router-dom\";\n\nfunction PurchaseEPinHistory(props) {\n  const fetch = (dateString) => getEpinHistory(dateString);\n  const qDate = moment(props.match.params.date, \"DD-MMM-YYYY\");\n\n  const [date, setDate] = useState(\n    !qDate.isValid() ? moment().format(\"DD-MMM-YYYY\") : props.match.params.date\n  );\n  const [data, loading, error] = useArrayFetch(date, fetch);\n\n  useEffect(() => {\n    document.title = \"VStore | ePIN History\";\n    let datePicker = $(\"#datepicker\").datepicker({\n      uiLibrary: \"bootstrap4\",\n      format: \"dd-mmm-yyyy\",\n      maxDate: new Date(),\n      change: handleChange,\n    });\n    return () => {\n      datePicker && datePicker.destroy();\n    };\n  }, [props.match.params.date]);\n\n  function handleChange({ target }) {\n    setDate(target.value);\n  }\n\n  if (props.match.params.date && !qDate.isValid()) {\n    return <Redirect to=\"/epin-history\" />;\n  }\n\n  return (\n    <Template>\n      <div className=\"row\">\n        <div className=\"col-md-12\">\n          <h4>E-Pin History</h4>\n          <hr />\n          <form className=\"form-row mb-3\">\n            <div className=\"col-auto\">\n              <input\n                id=\"datepicker\"\n                type=\"text\"\n                className=\"form-control bg-white\"\n                defaultValue={date}\n                readOnly\n              />\n            </div>\n          </form>\n\n          <Loading show={loading} />\n          <ErrorMessage show={error} message={error} />\n\n          {!loading && !error && data && !data.length && (\n            <div className=\"text-center text-muted\">No data.</div>\n          )}\n\n          {!loading &&\n            !error &&\n            data &&\n            data.map((h) => {\n              return (\n                <PurchaseCell\n                  key={h.purchaseId}\n                  data={h}\n                  detailRoute={\n                    \"/epin-history/detail/\" +\n                    h.purchaseId +\n                    \"/\" +\n                    date +\n                    \"?logo=\" +\n                    h.productPhotoUrl\n                  }\n                />\n              );\n            })}\n        </div>\n      </div>\n    </Template>\n  );\n}\n\nexport default PurchaseEPinHistory;\n","import { useEffect, useState } from \"react\";\nimport Template from \"../common/Template\";\nimport { getTopupHistory } from \"./HistoryAPI\";\nimport { useArrayFetch } from \"../common/DataFetchHook\";\nimport moment from \"moment\";\nimport $ from \"jquery\";\nimport Loading from \"../common/Loading\";\nimport ErrorMessage from \"../common/ErrorMessage\";\nimport PurchaseCell from \"./PurchaseCell\";\nimport { Redirect } from \"react-router-dom\";\n\nfunction PurchaseTopupHistory(props) {\n  const fetch = (dateString) => getTopupHistory(dateString);\n  const qDate = moment(props.match.params.date, \"DD-MMM-YYYY\");\n\n  const [date, setDate] = useState(\n    !qDate.isValid() ? moment().format(\"DD-MMM-YYYY\") : props.match.params.date\n  );\n  const [data, loading, error] = useArrayFetch(date, fetch);\n\n  useEffect(() => {\n    document.title = \"VStore | Topup History\";\n    let datePicker = $(\"#datepicker\").datepicker({\n      uiLibrary: \"bootstrap4\",\n      format: \"dd-mmm-yyyy\",\n      maxDate: new Date(),\n      change: handleChange,\n    });\n    return () => {\n      datePicker && datePicker.destroy();\n    };\n  }, [props.match.params.date]);\n\n  function handleChange({ target }) {\n    setDate(target.value);\n  }\n\n  if (props.match.params.date && !qDate.isValid()) {\n    return <Redirect to=\"/topup-history\" />;\n  }\n\n  return (\n    <Template>\n      <div className=\"row\">\n        <div className=\"col-md-12\">\n          <h4>Topup History</h4>\n          <hr />\n          <form className=\"form-row mb-3\">\n            <div className=\"col-auto\">\n              <input\n                id=\"datepicker\"\n                type=\"text\"\n                className=\"form-control bg-white\"\n                defaultValue={date}\n                readOnly\n              />\n            </div>\n          </form>\n\n          <Loading show={loading} />\n          <ErrorMessage show={error} message={error} />\n\n          {!loading && !error && data && !data.length && (\n            <div className=\"text-center text-muted\">No data.</div>\n          )}\n\n          {!loading &&\n            !error &&\n            data &&\n            data.map((h) => {\n              return (\n                <PurchaseCell\n                  key={h.purchaseId}\n                  data={h}\n                  detailRoute={\n                    \"/topup-history/detail/\" +\n                    h.purchaseId +\n                    \"/\" +\n                    date +\n                    \"?logo=\" +\n                    h.productPhotoUrl\n                  }\n                />\n              );\n            })}\n        </div>\n      </div>\n    </Template>\n  );\n}\n\nexport default PurchaseTopupHistory;\n","import PropTypes from \"prop-types\";\n\nfunction LabelGroup(props) {\n  const marginBottom = !props.marginBottom ? \"\" : \" mb-2\";\n  return (\n    <>\n      <label className=\"my-0 small font-weight-medium\">{props.label}</label>\n      <div className={\"text-muted small\" + marginBottom}>{props.value}</div>\n    </>\n  );\n}\n\nLabelGroup.propTypes = {\n  label: PropTypes.string.isRequired,\n  value: PropTypes.string.isRequired,\n};\n\nexport default LabelGroup;\n","import PropTypes from \"prop-types\";\n\nfunction PurchaseHeader(props) {\n  return (\n    <div className=\"card border-0 rounded-lg shadow-cm mb-2 col-md-12\">\n      <div className=\"card-body\">\n        <div className=\"row mb-3\">\n          <div className=\"mx-auto\">\n            <img src={props.logo} width=\"70\" alt=\"...\" />\n          </div>\n        </div>\n        <h6 className=\"text-center mb-3\">{props.title}</h6>\n        <h5 className=\"text-center text-danger mb-0\">\n          VP{\" \"}\n          {props.amount.toLocaleString(\"en\", {\n            minimumFractionDigits: 2,\n          })}\n        </h5>\n      </div>\n    </div>\n  );\n}\n\nPurchaseHeader.propTypes = {\n  logo: PropTypes.string.isRequired,\n  title: PropTypes.string.isRequired,\n  amount: PropTypes.number.isRequired,\n};\n\nexport default PurchaseHeader;\n","import PropTypes from \"prop-types\";\n\nfunction PurchaseStatus(props) {\n  let statusColor = \" text-muted\";\n  switch (props.status) {\n    case \"PROCESSING\":\n      statusColor = \" text-warning\";\n      break;\n    case \"SUCCESS\":\n      statusColor = \" text-success\";\n      break;\n    case \"FAIL\":\n      statusColor = \" text-danger\";\n      break;\n    default:\n      break;\n  }\n\n  return (\n    <div className=\"card border-0 rounded-lg shadow-cm mb-2 col-md-12\">\n      <div className=\"card-body\">\n        <h5 className={\"text-center my-0\" + statusColor}>{props.status}</h5>\n      </div>\n    </div>\n  );\n}\n\nPurchaseStatus.propTypes = {\n  status: PropTypes.string.isRequired,\n};\n\nexport default PurchaseStatus;\n","import { useEffect } from \"react\";\nimport { useDataFetch } from \"../../common/DataFetchHook\";\nimport ErrorMessage from \"../../common/ErrorMessage\";\nimport Loading from \"../../common/Loading\";\nimport Template from \"../../common/Template\";\nimport LabelGroup from \"../../purchase/LabelGroup\";\nimport PurchaseHeader from \"../../purchase/PurchaseHeader\";\nimport PurchaseStatus from \"../../purchase/PurchaseStatus\";\nimport { getEpinPurchase } from \"../HistoryAPI\";\nimport moment from \"moment\";\nimport { Link, useLocation } from \"react-router-dom\";\n\nfunction PurchaseEPinDetail(props) {\n  const fetch = (id) => getEpinPurchase(id);\n  const qDate = props.match.params.date;\n  const [data, loading, error] = useDataFetch(\n    props.match.params.purchaseId,\n    fetch\n  );\n\n  const params = new URLSearchParams(useLocation().search);\n\n  useEffect(() => {\n    document.title = \"VStore | ePIN Purchase Detail\";\n  }, [props.match.params.purchaseId]);\n\n  return (\n    <Template>\n      <div className=\"row\">\n        <div className=\"col-md-12\">\n          <nav aria-label=\"breadcrumb\">\n            <ol className=\"breadcrumb bg-white shadow-cm\">\n              <li className=\"breadcrumb-item\">\n                <Link to={\"/epin-history/\" + qDate} className=\"card-link\">\n                  E-Pin History\n                </Link>\n              </li>\n              <li className=\"breadcrumb-item active\">E-Pin Purchase Detail</li>\n            </ol>\n          </nav>\n        </div>\n      </div>\n      <div className=\"row\">\n        <div className=\"col-md-12\">\n          <Loading show={loading} />\n          <ErrorMessage show={error} message={error} />\n\n          {!loading && !error && data && (\n            <>\n              <PurchaseHeader\n                logo={params.get(\"logo\")}\n                title={data.productTitle}\n                amount={data.paidAmount}\n              />\n              <PurchaseStatus status={data.status} />\n              <div className=\"card border-0 rounded-lg shadow-cm mb-3 col-md-12\">\n                <div className=\"card-body\">\n                  <LabelGroup\n                    label=\"PURCHASE ID\"\n                    // eslint-disable-next-line no-undef\n                    value={data.purchaseId.replace(\n                      /\\B(?=(\\d{4})+(?!\\d))/g,\n                      \"-\"\n                    )}\n                    marginBottom={true}\n                  />\n                  <LabelGroup\n                    label=\"ePIN/Serial key\"\n                    value={data.serialKey}\n                    marginBottom={true}\n                  />\n                  <button className=\"btn btn-sm btn-light mb-2 d-block px-3\">\n                    Copy\n                  </button>\n                  {!isNaN(data.expiryDate) && (\n                    <LabelGroup\n                      label=\"Expiry Date\"\n                      value={moment(data.expiryDate).format(\"DD-MMM-yyyy\")}\n                    />\n                  )}\n                </div>\n              </div>\n            </>\n          )}\n        </div>\n      </div>\n    </Template>\n  );\n}\n\nexport default PurchaseEPinDetail;\n","import { useEffect } from \"react\";\nimport { useDataFetch } from \"../../common/DataFetchHook\";\nimport ErrorMessage from \"../../common/ErrorMessage\";\nimport Loading from \"../../common/Loading\";\nimport Template from \"../../common/Template\";\nimport LabelGroup from \"../../purchase/LabelGroup\";\nimport PurchaseHeader from \"../../purchase/PurchaseHeader\";\nimport PurchaseStatus from \"../../purchase/PurchaseStatus\";\nimport { getTopupPurchase } from \"../HistoryAPI\";\nimport { Link, useLocation } from \"react-router-dom\";\n\nfunction PurchaseTopupDetail(props) {\n  const fetch = (id) => getTopupPurchase(id);\n  const qDate = props.match.params.date;\n  const [data, loading, error] = useDataFetch(\n    props.match.params.purchaseId,\n    fetch\n  );\n\n  const params = new URLSearchParams(useLocation().search);\n\n  useEffect(() => {\n    document.title = \"VStore | Topup Purchase Detail\";\n  }, [props.match.params.purchaseId]);\n\n  return (\n    <Template>\n      <div className=\"row\">\n        <div className=\"col-md-12\">\n          <nav aria-label=\"breadcrumb\">\n            <ol className=\"breadcrumb bg-white shadow-cm\">\n              <li className=\"breadcrumb-item\">\n                <Link to={\"/topup-history/\" + qDate} className=\"card-link\">\n                  Topup History\n                </Link>\n              </li>\n              <li className=\"breadcrumb-item active\">Topup Purchase Detail</li>\n            </ol>\n          </nav>\n        </div>\n      </div>\n      <div className=\"row\">\n        <div className=\"col-md-12\">\n          <Loading show={loading} />\n          <ErrorMessage show={error} message={error} />\n\n          {!loading && !error && data && (\n            <>\n              <PurchaseHeader\n                logo={params.get(\"logo\")}\n                title={data.productTitle}\n                amount={data.paidAmount}\n              />\n              <PurchaseStatus status={data.status} />\n              <div className=\"card border-0 rounded-lg shadow-cm mb-3 col-md-12\">\n                <div className=\"card-body\">\n                  <LabelGroup\n                    label=\"PURCHASE ID\"\n                    // eslint-disable-next-line no-undef\n                    value={data.purchaseId.replace(\n                      /\\B(?=(\\d{4})+(?!\\d))/g,\n                      \"-\"\n                    )}\n                    marginBottom={true}\n                  />\n                  <LabelGroup\n                    label=\"Recipient's Mobile\"\n                    value={data.recipientMobile}\n                  />\n                </div>\n              </div>\n            </>\n          )}\n        </div>\n      </div>\n    </Template>\n  );\n}\n\nexport default PurchaseTopupDetail;\n","import AppBar from \"../common/AppBar\";\nimport Footer from \"../common/Footer\";\nimport Profile from \"./Profile\";\n\nfunction UserProfile(props) {\n  return (\n    <>\n      <AppBar />\n      <div className=\"container\">\n        <div className=\"row mt-3 mb-5\">\n          <div className=\"col-md-12 col-lg-4\">\n            <Profile />\n          </div>\n        </div>\n        <br />\n        <br />\n        <br />\n      </div>\n      <Footer />\n    </>\n  );\n}\n\nexport default UserProfile;\n","import axios from \"axios\";\nimport appConfig from \"../common/config.json\";\n\nexport function syncData(cancelToken) {\n  const url = appConfig.ROOT_PATH + \"/private/load-stores\";\n  return axios\n    .get(url, { cancelToken: cancelToken })\n    .then((resp) => saveCache(resp.data));\n}\n\nfunction saveCache(data) {\n  localStorage.setItem(appConfig.KEY_CACHE_EXPIRY, data.expiryDate);\n  let stores = [];\n  let catalogs = [];\n  let products = [];\n  for (let a in data.stores) {\n    let store = data.stores[a];\n    let s = { ...store };\n    s[\"id\"] = s.storeId;\n    delete s.storeId;\n    delete s.listingGroups;\n    stores.push(s);\n    for (let b in store.listingGroups) {\n      let catalog = store.listingGroups[b];\n      let c = { ...catalog };\n      c[\"id\"] = c.listingGroupId;\n      c[\"parentId\"] = store.storeId;\n      delete c.listingGroupId;\n      delete c.listings;\n      catalogs.push(c);\n      for (let c in catalog.listings) {\n        let product = catalog.listings[c];\n        let p = { ...product };\n        p[\"id\"] = p.listingId;\n        p[\"parentId\"] = catalog.listingGroupId;\n        delete p.listingId;\n        products.push(p);\n      }\n    }\n  }\n  localStorage.setItem(appConfig.KEY_CACHE_STORES, JSON.stringify(stores));\n  localStorage.setItem(appConfig.KEY_CACHE_CATALOGS, JSON.stringify(catalogs));\n  localStorage.setItem(appConfig.KEY_CACHE_PRODUCTS, JSON.stringify(products));\n}\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nfunction TextArea(props) {\n  let wrapperClass = \"form-control\";\n  if (props.error && props.error.length > 0) {\n    wrapperClass += \" is-invalid\";\n  }\n  return (\n    <div className=\"form-group\">\n      <label className=\"font-weight-bold\">{props.label}</label>\n      <textarea\n        rows=\"3\"\n        type={props.type}\n        className={wrapperClass}\n        placeholder={props.placeholder}\n        value={props.value}\n        onChange={props.onChange}\n        name={props.name}\n      />\n      {props.error && <div className=\"invalid-feedback\">{props.error}</div>}\n    </div>\n  );\n}\n\nTextArea.propTypes = {\n  label: PropTypes.string.isRequired,\n};\n\nexport default TextArea;\n","import PropTypes from \"prop-types\";\n\nfunction ProductDetailHeader(props) {\n  return (\n    <div className=\"card border-0 rounded-lg shadow-cm mb-2 col-md-12\">\n      <div className=\"card-body\">\n        <div className=\"row mb-3\">\n          <div className=\"mx-auto\">\n            <img src={props.logo} width=\"70\" alt=\"...\" />\n          </div>\n        </div>\n        <h6 className=\"text-center mb-3\">{props.title}</h6>\n        <h6 className=\"text-center text-muted mb-3\">You have to pay</h6>\n        <h5 className=\"text-center text-success mb-0\">\n          VP {props.amount.toLocaleString(\"en\")}\n        </h5>\n      </div>\n    </div>\n  );\n}\n\nProductDetailHeader.propTypes = {\n  logo: PropTypes.string.isRequired,\n  title: PropTypes.string.isRequired,\n  amount: PropTypes.number.isRequired,\n};\n\nexport default ProductDetailHeader;\n","import TextArea from \"../common/TextArea\";\nimport ProductDetailHeader from \"./ProductDetailHeader\";\n\nfunction EPinDetail(props) {\n  return (\n    <>\n      <ProductDetailHeader\n        logo={props.data.photoUrl}\n        title={props.data.title}\n        amount={props.data.sellingPrice}\n      />\n      <div className=\"bg-white border-0 rounded-lg shadow-cm mb-3 col-md-12 px-4 py-3\">\n        <form>\n          <TextArea label=\"Remark\" name=\"remark\" type=\"text\" placeholder=\"\" />\n          <div className=\"clearfix\">\n            <button\n              type=\"submit\"\n              className=\"btn btn-success float-right\"\n              disabled={props.loading}\n            >\n              {props.loading && (\n                <>\n                  <span\n                    className=\"spinner-border spinner-border-sm\"\n                    role=\"status\"\n                    aria-hidden=\"true\"\n                  ></span>\n                  &nbsp;\n                </>\n              )}\n              Purchase\n            </button>\n          </div>\n        </form>\n      </div>\n    </>\n  );\n}\n\nexport default EPinDetail;\n","import TextArea from \"../common/TextArea\";\nimport TextInput from \"../common/TextInput\";\nimport ProductDetailHeader from \"./ProductDetailHeader\";\n\nfunction TopupDetail(props) {\n  return (\n    <>\n      <ProductDetailHeader\n        logo={props.data.photoUrl}\n        title={props.data.title}\n        amount={props.data.sellingPrice}\n      />\n      <div className=\"bg-white border-0 rounded-lg shadow-cm mb-3 col-md-12 px-4 py-3\">\n        <form>\n          <div className=\"text-muted mb-2\">\n            Enter the mobile number that you want to topup.\n          </div>\n          <TextInput\n            label=\"(+95)\"\n            name=\"mobile\"\n            type=\"tel\"\n            placeholder=\"Recipient's mobile\"\n          />\n          <TextArea label=\"Remark\" name=\"remark\" type=\"text\" placeholder=\"\" />\n          <div className=\"clearfix\">\n            <button\n              type=\"submit\"\n              className=\"btn btn-success float-right\"\n              disabled={props.loading}\n            >\n              {props.loading && (\n                <>\n                  <span\n                    className=\"spinner-border spinner-border-sm\"\n                    role=\"status\"\n                    aria-hidden=\"true\"\n                  ></span>\n                  &nbsp;\n                </>\n              )}\n              Purchase\n            </button>\n          </div>\n        </form>\n      </div>\n    </>\n  );\n}\n\nexport default TopupDetail;\n","import { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { syncData } from \"./ProductAPI\";\nimport appConfig from \"../common/config.json\";\nimport Template from \"../common/Template\";\nimport GridCell from \"./GridCell\";\nimport ProductCell from \"./ProductCell\";\nimport Loading from \"../common/Loading\";\nimport ErrorMessage from \"../common/ErrorMessage\";\nimport EPinDetail from \"./EPinDetail\";\nimport { Redirect } from \"react-router-dom\";\nimport TopupDetail from \"./TopupDetail\";\n\nfunction Product(props) {\n  const [items, setItems] = useState([]);\n  const [history, setHistory] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n\n  const details = [\"purchase\", \"result\"];\n\n  function getKey() {\n    return history.length > 0\n      ? history[history.length - 1].key\n      : appConfig.KEY_CACHE_STORES;\n  }\n\n  useEffect(() => {\n    document.title = \"VStore\";\n    const source = axios.CancelToken.source();\n    const expiry = localStorage.getItem(appConfig.KEY_CACHE_EXPIRY);\n    const key = getKey();\n\n    if ([\"purchase\", \"result\"].includes(key)) {\n    } else {\n      let rawJson = localStorage.getItem(key);\n\n      if (!rawJson || Number(expiry) <= new Date().getTime()) {\n        setItems([]);\n        setLoading(true);\n        syncData(source.token)\n          .then((_) => {\n            setLoading(false);\n            updateListing(localStorage.getItem(key));\n          })\n          .catch((error) => {\n            if (axios.isCancel(error)) {\n              console.log(\"Request cancelled.\");\n            } else {\n              let msg = \"Something went wrong.\";\n              console.log(error);\n              if (error.response) {\n                let data = error.response.data;\n                msg = data.errorCode ? data.errorCode : data;\n              }\n\n              setLoading(false);\n              setError(msg);\n            }\n          });\n      } else {\n        updateListing(rawJson);\n      }\n    }\n\n    return () => {\n      if (source != null) {\n        source.cancel();\n      }\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [history]);\n\n  function updateListing(rawJson) {\n    let items = JSON.parse(rawJson);\n\n    let parentId =\n      history.length > 0 ? history[history.length - 1].item.id : \"\";\n\n    items.sort((a, b) => a.orderIndex - b.orderIndex);\n    setItems(!parentId ? items : items.filter((d) => d.parentId === parentId));\n  }\n\n  function navigate(evt, item) {\n    evt.preventDefault();\n    let _history = [...history];\n    let key =\n      _history.length > 0\n        ? _history[_history.length - 1].key\n        : appConfig.KEY_CACHE_STORES;\n    let h = {\n      item: item,\n      step: _history.length,\n    };\n\n    switch (key) {\n      case appConfig.KEY_CACHE_STORES:\n        h[\"key\"] = appConfig.KEY_CACHE_CATALOGS;\n        break;\n      case appConfig.KEY_CACHE_CATALOGS:\n        h[\"key\"] = appConfig.KEY_CACHE_PRODUCTS;\n        break;\n      case appConfig.KEY_CACHE_PRODUCTS:\n        h[\"key\"] = \"purchase\";\n        break;\n      case \"purchase\":\n        h[\"key\"] = \"result\";\n        break;\n      default:\n        break;\n    }\n\n    _history.push(h);\n    setHistory(_history);\n  }\n\n  function jumpTo(evt, h) {\n    evt.preventDefault();\n    if (!h) {\n      setHistory([]);\n    } else {\n      let _history = history.slice(0, h.step + 1);\n      setHistory(_history);\n    }\n  }\n\n  function getBreadcurmb() {\n    if (history.length === 1) {\n      return (\n        <li className=\"breadcrumb-item active\">{history[0].item.title}</li>\n      );\n    }\n\n    let last = history[history.length - 1];\n    return (\n      <>\n        {history\n          .slice(0, history.length - 1)\n          .filter((h) => !details.includes(h.key))\n          .map((h, index) => {\n            return (\n              <li key={index} className=\"breadcrumb-item\">\n                <a\n                  href=\"!#\"\n                  className=\"card-link\"\n                  onClick={(evt) => jumpTo(evt, h)}\n                >\n                  {h.item.title}\n                </a>\n              </li>\n            );\n          })}\n        {!details.includes(last.key) && (\n          <li className=\"breadcrumb-item active\">{last.item.title}</li>\n        )}\n      </>\n    );\n  }\n\n  function getBody() {\n    if (details.includes(getKey())) {\n      let data = history[history.length - 1].item;\n      switch (data.productType) {\n        case \"EPIN\":\n          return <EPinDetail data={data} />;\n        case \"TELECOM_TOPUP\":\n          return <TopupDetail data={data} />;\n\n        default:\n          return <Redirect to=\"/\" />;\n      }\n    }\n\n    return (\n      <div className=\"col-md-12\">\n        <div className=\"row\">\n          {items.map((s, index) => {\n            if (\"sellingPrice\" in s) {\n              return (\n                <div key={s.id} className=\"col-6 col-sm-6 col-md-6 mb-3\">\n                  <ProductCell\n                    id={s.id}\n                    logo={s.photoUrl}\n                    title={s.title}\n                    index={index}\n                    price={s.sellingPrice}\n                    onClick={(evt) => navigate(evt, s)}\n                  />\n                </div>\n              );\n            }\n            return (\n              <div key={s.id} className=\"col-6 col-sm-6 col-md-6 mb-3\">\n                <GridCell\n                  id={s.id}\n                  logo={s.photoUrl}\n                  title={s.title}\n                  index={index}\n                  slug={s.id}\n                  onClick={(evt) => navigate(evt, s)}\n                />\n              </div>\n            );\n          })}\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <Template active=\"home\">\n      {history.length > 0 && (\n        <div className=\"row\">\n          <div className=\"col-md-12\">\n            <nav aria-label=\"breadcrumb\">\n              <ol className=\"breadcrumb bg-white shadow-cm\">\n                <li className=\"breadcrumb-item\">\n                  <a\n                    href=\"!#\"\n                    className=\"card-link\"\n                    onClick={(evt) => jumpTo(evt, null)}\n                  >\n                    Home\n                  </a>\n                </li>\n\n                {getBreadcurmb()}\n              </ol>\n            </nav>\n          </div>\n        </div>\n      )}\n\n      <Loading show={loading} />\n      <ErrorMessage show={error} message={error} />\n\n      {getBody()}\n    </Template>\n  );\n}\n\nexport default Product;\n","import React from \"react\";\nimport { library } from \"@fortawesome/fontawesome-svg-core\";\nimport { fab } from \"@fortawesome/free-brands-svg-icons\";\nimport { fas } from \"@fortawesome/free-solid-svg-icons\";\nimport { far } from \"@fortawesome/free-regular-svg-icons\";\nimport Login from \"./authentication/login/Login\";\nimport { Redirect, Route, Switch } from \"react-router-dom\";\nimport PrivateRoute from \"./common/PrivateRoute\";\nimport NotFound from \"./common/NotFound\";\nimport Register from \"./authentication/register/Register\";\nimport ResetPassword from \"./authentication/reset/ResetPassword\";\nimport AuthRoute from \"./common/AuthRoute\";\nimport axios from \"axios\";\nimport appConfig from \"./common/config.json\";\nimport { ToastContainer } from \"react-toastify\";\nimport Catalogs from \"./service/catalog/Catalogs\";\nimport Products from \"./service/product/Products\";\nimport Notification from \"./notification/Notification\";\nimport VPTransferHistory from \"./history/VPTransferHistory\";\nimport VPBalanceHistory from \"./history/VPBalanceHistory\";\nimport PurchaseEPinHistory from \"./history/PurchaseEPinHistory\";\nimport PurchaseTopupHistory from \"./history/PurchaseTopupHistory\";\nimport PurchaseEPinDetail from \"./history/detail/PurchaseEPinDetail\";\nimport PurchaseTopupDetail from \"./history/detail/PurchaseTopupDetail\";\nimport UserProfile from \"./profile/UserProfile\";\nimport Product from \"./service/Product\";\n\nlibrary.add(fab, fas, far);\n\nvar JSONbig = require(\"json-bigint\")({ storeAsString: true });\n\naxios.defaults.transformResponse = (data) => JSONbig.parse(data);\naxios.interceptors.request.use(\n  function (config) {\n    const headers = {};\n\n    const token = localStorage.getItem(appConfig.KEY_TOKEN);\n    const userId = localStorage.getItem(appConfig.KEY_USER_ID);\n\n    if (token && userId) {\n      headers[\"Authorization\"] = token;\n      headers[\"X-USER-ID\"] = userId;\n    }\n\n    headers[\"Content-Type\"] = \"application/json\";\n\n    config.headers = headers;\n    return config;\n  },\n  function (error) {\n    return Promise.reject(error);\n  }\n);\n\naxios.interceptors.response.use(\n  function (response) {\n    console.log(response);\n    return response;\n  },\n  function (error) {\n    return Promise.reject(error);\n  }\n);\n\nfunction App() {\n  return (\n    <>\n      <ToastContainer autoClose={3000} hideProgressBar />\n      <Switch>\n        <PrivateRoute path=\"/app/:store/:catalog\" component={Products} />\n        <PrivateRoute path=\"/app/:store\" component={Catalogs} />\n        <PrivateRoute path=\"/app\" exact component={Product} />\n        <PrivateRoute path=\"/notifications\" exact component={Notification} />\n        <PrivateRoute path=\"/profile\" exact component={UserProfile} />\n        <PrivateRoute\n          path=\"/transfer-history\"\n          exact\n          component={VPTransferHistory}\n        />\n        <PrivateRoute\n          path=\"/balance-history\"\n          exact\n          component={VPBalanceHistory}\n        />\n        <PrivateRoute\n          path=\"/epin-history/:date\"\n          exact\n          component={PurchaseEPinHistory}\n        />\n        <PrivateRoute\n          path=\"/epin-history\"\n          exact\n          component={PurchaseEPinHistory}\n        />\n        <PrivateRoute\n          path=\"/topup-history/:date\"\n          exact\n          component={PurchaseTopupHistory}\n        />\n        <PrivateRoute\n          path=\"/topup-history\"\n          exact\n          component={PurchaseTopupHistory}\n        />\n        <PrivateRoute\n          path=\"/epin-history/detail/:purchaseId/:date\"\n          exact\n          component={PurchaseEPinDetail}\n        />\n        <PrivateRoute\n          path=\"/topup-history/detail/:purchaseId/:date\"\n          exact\n          component={PurchaseTopupDetail}\n        />\n        <AuthRoute path=\"/login\" component={Login} />\n        <AuthRoute path=\"/sign-up\" component={Register} />\n        <AuthRoute path=\"/reset-password\" component={ResetPassword} />\n        <Redirect from=\"/\" to=\"/app\" exact />\n        <Route component={NotFound} />\n      </Switch>\n    </>\n  );\n}\n\nexport default App;\n","import \"bootstrap/css/bootstrap.min.css\";\nimport \"gijgo/css/gijgo.min.css\";\n\nimport $ from \"jquery\";\n\nimport \"bootstrap/dist/js/bootstrap.min.js\";\n\nimport \"./index.css\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport { HashRouter as Router } from \"react-router-dom\";\n\nwindow.$ = window.jQuery = $;\nrequire(\"gijgo/js/gijgo.min.js\");\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router basename={process.env.PUBLIC_URL}>\n      <App />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}